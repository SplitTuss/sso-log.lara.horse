(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[636],{92:(e,i,a)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/_app",function(){return a(5890)}])},2386:(e,i,a)=>{"use strict";let t;a.d(i,{y:()=>f,G:()=>k});var n=a(7876),r=a(4232);let p={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)},o=new Uint8Array(16),l=[];for(let e=0;e<256;++e)l.push((e+256).toString(16).slice(1));let d=function(e,i,a){if(p.randomUUID&&!i&&!e)return p.randomUUID();let n=(e=e||{}).random??e.rng?.()??function(){if(!t){if("undefined"==typeof crypto||!crypto.getRandomValues)throw Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");t=crypto.getRandomValues.bind(crypto)}return t(o)}();if(n.length<16)throw Error("Random bytes length must be >= 16");if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,i){if((a=a||0)<0||a+16>i.length)throw RangeError(`UUID byte range ${a}:${a+15} is out of buffer bounds`);for(let e=0;e<16;++e)i[a+e]=n[e];return i}return function(e,i=0){return(l[e[i+0]]+l[e[i+1]]+l[e[i+2]]+l[e[i+3]]+"-"+l[e[i+4]]+l[e[i+5]]+"-"+l[e[i+6]]+l[e[i+7]]+"-"+l[e[i+8]]+l[e[i+9]]+"-"+l[e[i+10]]+l[e[i+11]]+l[e[i+12]]+l[e[i+13]]+l[e[i+14]]+l[e[i+15]]).toLowerCase()}(n)},s="horseOwners",c={ACCOUNT:"account",HORSE_OWNER:"horseOwner"},h={OBJECT_TYPE:{name:"objectTypeIndex",key:"objectType"},HORSE_ID:{name:"horseIdIndex",key:"horseId"},ACCOUNT_ID:{name:"accountIdIndex",key:"accountId"}},u=()=>new Promise((e,i)=>{let a=indexedDB.open("ssoLog",2);a.onupgradeneeded=e=>{var i,a;let t=e.target,n=null==t?void 0:t.result;(null==n||null==(i=n.objectStoreNames)?void 0:i.contains(s))||null==n||n.createObjectStore(s,{keyPath:"id"});let r=null==t||null==(a=t.transaction)?void 0:a.objectStore(s);Object.values(h).forEach(e=>{let{name:i,key:a}=e;(null==r?void 0:r.indexNames.contains(i))||null==r||r.createIndex(i,a,{unique:!1,multiEntry:!1})})},a.onsuccess=i=>{let a=i.target;e(null==a?void 0:a.result)},a.onerror=e=>{let a=e.target;i("Error opening database: "+(null==a?void 0:a.error))}}),x=e=>{let{db:i,data:a}=e;if(!i)return;let t=i.transaction(s,"readwrite").objectStore(s).add({id:d(),...a});return new Promise((e,i)=>{t.onsuccess=()=>e(t.result),t.onerror=()=>i(t.error)})},m=e=>{let{db:i,data:a}=e;if(!i)return;let t=i.transaction(s,"readwrite").objectStore(s).put(a);return new Promise((e,i)=>{t.onsuccess=()=>e(t.result),t.onerror=()=>i(t.error)})},v=e=>{let{db:i,id:a}=e;if(!i)return;let t=i.transaction(s,"readwrite").objectStore(s).delete(a);return new Promise((e,i)=>{t.onsuccess=()=>e(!0),t.onerror=()=>i(!1)})},g=e=>{let{db:i,indexName:a,value:t}=e;if(!i)return;let n=i.transaction(s,"readonly").objectStore(s).index(a).getAll(IDBKeyRange.only(t));return new Promise((e,i)=>{n.onsuccess=()=>e(n.result),n.onerror=()=>i(n.error)})},j=e=>{let{db:i}=e;if(i)try{let e=i.transaction([s],"readonly").objectStore(s).getAll();return new Promise((i,a)=>{e.onsuccess=()=>{let a=e.result,t=JSON.stringify(a,null,2),n=new Blob([t],{type:"application/json"}),r=URL.createObjectURL(n),p=document.createElement("a");p.href=r,p.download="sso-log-export.json",document.body.appendChild(p),p.click(),document.body.removeChild(p),URL.revokeObjectURL(r),i()},e.onerror=e=>a(e)})}catch(e){console.error("Error during export:",e)}},w=async e=>{let{db:i,file:a}=e;if(i)try{let e=JSON.parse(a);if(!Array.isArray(e))throw Error("JSON data should be an array");let t=i.transaction([s],"readwrite").objectStore(s);for(let i of(await t.clear(),e))await t.put(i)}catch(e){console.error("Error during export:",e)}},b=(0,r.createContext)({db:null,error:null,accounts:null,horseOwners:null,addAccount:()=>Promise.resolve(void 0),updateAccount:()=>Promise.resolve(void 0),addHorseOwner:()=>Promise.resolve(void 0),updateHorseOwner:()=>Promise.resolve(void 0),removeData:()=>Promise.resolve(void 0),refetchData:()=>Promise.resolve(void 0),exportToFile:()=>Promise.resolve(void 0),importFromFile:()=>Promise.resolve(void 0),updateAccountVisibility:()=>{},updateAllAccountVisibility:()=>{}}),k=()=>{let e=(0,r.useContext)(b);if(!e)throw Error("useDb must be used within a DbProvider");return e},f=e=>{let{children:i}=e,[a,t]=(0,r.useState)(null),[p,o]=(0,r.useState)(null),[l,d]=(0,r.useState)(null),[s,k]=(0,r.useState)(null),f=(0,r.useCallback)(async()=>{let[e,i]=await Promise.all([g({db:a,indexName:h.OBJECT_TYPE.name,value:c.ACCOUNT}),g({db:a,indexName:h.OBJECT_TYPE.name,value:c.HORSE_OWNER})]);Array.isArray(i)&&k(i),Array.isArray(e)&&d(e.map(e=>({...e,isVisible:!0})))},[a]);(0,r.useEffect)(()=>{l||s||f()},[l,s,f]),(0,r.useEffect)(()=>{u().then(t).catch(o)},[]);let y=(0,r.useCallback)(async e=>x({db:a,data:{[h.OBJECT_TYPE.key]:c.ACCOUNT,...e}}),[a]),E=(0,r.useCallback)(async e=>m({db:a,data:{[h.OBJECT_TYPE.key]:c.ACCOUNT,...e}}),[a]),O=(0,r.useCallback)(async e=>x({db:a,data:{[h.OBJECT_TYPE.key]:c.HORSE_OWNER,...e}}),[a]),C=(0,r.useCallback)(async e=>m({db:a,data:{[h.OBJECT_TYPE.key]:c.HORSE_OWNER,...e}}),[a]),P=(0,r.useCallback)(async e=>v({db:a,id:e}),[a]),S=(0,r.useCallback)(async()=>j({db:a}),[a]),_=(0,r.useCallback)(async e=>w({db:a,file:e}),[a]);return(0,n.jsx)(b.Provider,{value:{db:a,error:p,accounts:l,horseOwners:s,addAccount:y,updateAccount:E,addHorseOwner:O,updateHorseOwner:C,removeData:P,refetchData:f,exportToFile:S,importFromFile:_,updateAccountVisibility:(e,i)=>{l&&d(l.map(a=>({...a,isVisible:e===a.id?i:a.isVisible})))},updateAllAccountVisibility:e=>{l&&d(l.map(i=>({...i,isVisible:e})))}},children:i})}},5890:(e,i,a)=>{"use strict";a.r(i),a.d(i,{default:()=>l});var t=a(7876),n=a(7328),r=a.n(n);a(9334);var p=a(2386);let o={url:"https://sso-log.lara.horse",name:"SSO-log.lara.horse",description:"log all your SSO horses",backgroundColor:"#0a0a0a"};function l(e){let{Component:i,pageProps:a}=e;return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(r(),{children:[(0,t.jsx)("title",{children:o.name}),(0,t.jsx)("meta",{name:"description",content:o.description}),(0,t.jsx)("link",{rel:"icon",href:"/favicon-196.png"}),(0,t.jsx)("link",{rel:"manifest",href:"/manifest.json"}),(0,t.jsx)("meta",{name:"viewport",content:"minimum-scale=1, initial-scale=1, width=device-width, shrink-to-fit=no, user-scalable=no, viewport-fit=cover"}),(0,t.jsx)("meta",{name:"application-name",content:o.name}),(0,t.jsx)("meta",{name:"apple-mobile-web-app-capable",content:"yes"}),(0,t.jsx)("meta",{name:"apple-mobile-web-app-status-bar-style",content:"default"}),(0,t.jsx)("meta",{name:"apple-mobile-web-app-title",content:o.name}),(0,t.jsx)("meta",{name:"description",content:o.description}),(0,t.jsx)("meta",{name:"format-detection",content:"telephone=no"}),(0,t.jsx)("meta",{name:"mobile-web-app-capable",content:"yes"}),(0,t.jsx)("meta",{name:"theme-color",content:o.backgroundColor}),(0,t.jsx)("meta",{property:"og:type",content:"website"}),(0,t.jsx)("meta",{property:"og:title",content:o.name}),(0,t.jsx)("meta",{property:"og:site_name",content:o.name}),(0,t.jsx)("meta",{property:"og:description",content:o.description}),(0,t.jsx)("meta",{property:"og:url",content:o.url}),(0,t.jsx)("link",{rel:"icon",type:"image/png",sizes:"196x196",href:"/icons/favicon-196.png"}),(0,t.jsx)("link",{rel:"apple-touch-icon",href:"/icons/apple-icon-180.png"}),(0,t.jsx)("meta",{name:"apple-mobile-web-app-capable",content:"yes"}),(0,t.jsx)("link",{rel:"apple-touch-startup-image",href:"/icons/apple-splash-2048-2732.jpg",media:"(device-width: 1024px) and (device-height: 1366px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"}),(0,t.jsx)("link",{rel:"apple-touch-startup-image",href:"/icons/apple-splash-2732-2048.jpg",media:"(device-width: 1024px) and (device-height: 1366px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"}),(0,t.jsx)("link",{rel:"apple-touch-startup-image",href:"/icons/apple-splash-1668-2388.jpg",media:"(device-width: 834px) and (device-height: 1194px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"}),(0,t.jsx)("link",{rel:"apple-touch-startup-image",href:"/icons/apple-splash-2388-1668.jpg",media:"(device-width: 834px) and (device-height: 1194px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"}),(0,t.jsx)("link",{rel:"apple-touch-startup-image",href:"/icons/apple-splash-1536-2048.jpg",media:"(device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"}),(0,t.jsx)("link",{rel:"apple-touch-startup-image",href:"/icons/apple-splash-2048-1536.jpg",media:"(device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"}),(0,t.jsx)("link",{rel:"apple-touch-startup-image",href:"/icons/apple-splash-1640-2360.jpg",media:"(device-width: 820px) and (device-height: 1180px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"}),(0,t.jsx)("link",{rel:"apple-touch-startup-image",href:"/icons/apple-splash-2360-1640.jpg",media:"(device-width: 820px) and (device-height: 1180px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"}),(0,t.jsx)("link",{rel:"apple-touch-startup-image",href:"/icons/apple-splash-1668-2224.jpg",media:"(device-width: 834px) and (device-height: 1112px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"}),(0,t.jsx)("link",{rel:"apple-touch-startup-image",href:"/icons/apple-splash-2224-1668.jpg",media:"(device-width: 834px) and (device-height: 1112px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"}),(0,t.jsx)("link",{rel:"apple-touch-startup-image",href:"/icons/apple-splash-1620-2160.jpg",media:"(device-width: 810px) and (device-height: 1080px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"}),(0,t.jsx)("link",{rel:"apple-touch-startup-image",href:"/icons/apple-splash-2160-1620.jpg",media:"(device-width: 810px) and (device-height: 1080px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"}),(0,t.jsx)("link",{rel:"apple-touch-startup-image",href:"/icons/apple-splash-1488-2266.jpg",media:"(device-width: 744px) and (device-height: 1133px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"}),(0,t.jsx)("link",{rel:"apple-touch-startup-image",href:"/icons/apple-splash-2266-1488.jpg",media:"(device-width: 744px) and (device-height: 1133px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"}),(0,t.jsx)("link",{rel:"apple-touch-startup-image",href:"/icons/apple-splash-1320-2868.jpg",media:"(device-width: 440px) and (device-height: 956px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"}),(0,t.jsx)("link",{rel:"apple-touch-startup-image",href:"/icons/apple-splash-2868-1320.jpg",media:"(device-width: 440px) and (device-height: 956px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"}),(0,t.jsx)("link",{rel:"apple-touch-startup-image",href:"/icons/apple-splash-1206-2622.jpg",media:"(device-width: 402px) and (device-height: 874px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"}),(0,t.jsx)("link",{rel:"apple-touch-startup-image",href:"/icons/apple-splash-2622-1206.jpg",media:"(device-width: 402px) and (device-height: 874px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"}),(0,t.jsx)("link",{rel:"apple-touch-startup-image",href:"/icons/apple-splash-1290-2796.jpg",media:"(device-width: 430px) and (device-height: 932px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"}),(0,t.jsx)("link",{rel:"apple-touch-startup-image",href:"/icons/apple-splash-2796-1290.jpg",media:"(device-width: 430px) and (device-height: 932px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"}),(0,t.jsx)("link",{rel:"apple-touch-startup-image",href:"/icons/apple-splash-1179-2556.jpg",media:"(device-width: 393px) and (device-height: 852px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"}),(0,t.jsx)("link",{rel:"apple-touch-startup-image",href:"/icons/apple-splash-2556-1179.jpg",media:"(device-width: 393px) and (device-height: 852px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"}),(0,t.jsx)("link",{rel:"apple-touch-startup-image",href:"/icons/apple-splash-1170-2532.jpg",media:"(device-width: 390px) and (device-height: 844px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"}),(0,t.jsx)("link",{rel:"apple-touch-startup-image",href:"/icons/apple-splash-2532-1170.jpg",media:"(device-width: 390px) and (device-height: 844px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"}),(0,t.jsx)("link",{rel:"apple-touch-startup-image",href:"/icons/apple-splash-1284-2778.jpg",media:"(device-width: 428px) and (device-height: 926px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"}),(0,t.jsx)("link",{rel:"apple-touch-startup-image",href:"/icons/apple-splash-2778-1284.jpg",media:"(device-width: 428px) and (device-height: 926px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"}),(0,t.jsx)("link",{rel:"apple-touch-startup-image",href:"/icons/apple-splash-1125-2436.jpg",media:"(device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"}),(0,t.jsx)("link",{rel:"apple-touch-startup-image",href:"/icons/apple-splash-2436-1125.jpg",media:"(device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"}),(0,t.jsx)("link",{rel:"apple-touch-startup-image",href:"/icons/apple-splash-1242-2688.jpg",media:"(device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"}),(0,t.jsx)("link",{rel:"apple-touch-startup-image",href:"/icons/apple-splash-2688-1242.jpg",media:"(device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"}),(0,t.jsx)("link",{rel:"apple-touch-startup-image",href:"/icons/apple-splash-828-1792.jpg",media:"(device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"}),(0,t.jsx)("link",{rel:"apple-touch-startup-image",href:"/icons/apple-splash-1792-828.jpg",media:"(device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"}),(0,t.jsx)("link",{rel:"apple-touch-startup-image",href:"/icons/apple-splash-1242-2208.jpg",media:"(device-width: 414px) and (device-height: 736px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"}),(0,t.jsx)("link",{rel:"apple-touch-startup-image",href:"/icons/apple-splash-2208-1242.jpg",media:"(device-width: 414px) and (device-height: 736px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"}),(0,t.jsx)("link",{rel:"apple-touch-startup-image",href:"/icons/apple-splash-750-1334.jpg",media:"(device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"}),(0,t.jsx)("link",{rel:"apple-touch-startup-image",href:"/icons/apple-splash-1334-750.jpg",media:"(device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"}),(0,t.jsx)("link",{rel:"apple-touch-startup-image",href:"/icons/apple-splash-640-1136.jpg",media:"(device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"}),(0,t.jsx)("link",{rel:"apple-touch-startup-image",href:"/icons/apple-splash-1136-640.jpg",media:"(device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"})]}),(0,t.jsx)("main",{children:(0,t.jsx)(p.y,{children:(0,t.jsx)(i,{...a})})})]})}},7328:(e,i,a)=>{e.exports=a(9836)},9334:()=>{}},e=>{var i=i=>e(e.s=i);e.O(0,[593,792],()=>(i(92),i(8253))),_N_E=e.O()}]);