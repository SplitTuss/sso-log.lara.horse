(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[636],{92:(e,r,t)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/_app",function(){return t(5890)}])},2386:(e,r,t)=>{"use strict";let n;t.d(r,{y:()=>O,G:()=>v});var o=t(7876),a=t(4232);let s={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)},l=new Uint8Array(16),u=[];for(let e=0;e<256;++e)u.push((e+256).toString(16).slice(1));let i=function(e,r,t){if(s.randomUUID&&!r&&!e)return s.randomUUID();let o=(e=e||{}).random??e.rng?.()??function(){if(!n){if("undefined"==typeof crypto||!crypto.getRandomValues)throw Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");n=crypto.getRandomValues.bind(crypto)}return n(l)}();if(o.length<16)throw Error("Random bytes length must be >= 16");if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,r){if((t=t||0)<0||t+16>r.length)throw RangeError(`UUID byte range ${t}:${t+15} is out of buffer bounds`);for(let e=0;e<16;++e)r[t+e]=o[e];return r}return function(e,r=0){return(u[e[r+0]]+u[e[r+1]]+u[e[r+2]]+u[e[r+3]]+"-"+u[e[r+4]]+u[e[r+5]]+"-"+u[e[r+6]]+u[e[r+7]]+"-"+u[e[r+8]]+u[e[r+9]]+"-"+u[e[r+10]]+u[e[r+11]]+u[e[r+12]]+u[e[r+13]]+u[e[r+14]]+u[e[r+15]]).toLowerCase()}(o)},c="horseOwners",d={ACCOUNT:"account",HORSE_OWNER:"horseOwner"},y={OBJECT_TYPE:{name:"objectTypeIndex",key:"objectType"},HORSE_ID:{name:"horseIdIndex",key:"horseId"},ACCOUNT_ID:{name:"accountIdIndex",key:"accountId"}},m=()=>new Promise((e,r)=>{let t=indexedDB.open("ssoLog");t.onupgradeneeded=e=>{var r;console.log({event:e});let t=e.target,n=null==t?void 0:t.result;if(!(null==n||null==(r=n.objectStoreNames)?void 0:r.contains(c))){let e=n.createObjectStore(c,{keyPath:"id"});Object.values(y).forEach(r=>{let{name:t,key:n}=r;e.createIndex(t,n,{unique:!1,multiEntry:!1})})}},t.onsuccess=r=>{let t=r.target;e(null==t?void 0:t.result)},t.onerror=e=>{let t=e.target;r("Error opening database: "+(null==t?void 0:t.error))}}),f=e=>{let{db:r,data:t}=e;if(!r)return;let n=r.transaction(c,"readwrite").objectStore(c).add({id:i(),...t});return new Promise((e,r)=>{n.onsuccess=()=>e(n.result),n.onerror=()=>r(n.error)})},E=e=>{let{db:r,data:t}=e;if(!r)return;let n=r.transaction(c,"readwrite").objectStore(c).put(t);return new Promise((e,r)=>{n.onsuccess=()=>e(n.result),n.onerror=()=>r(n.error)})},h=e=>{let{db:r,id:t}=e;if(!r)return;let n=r.transaction(c,"readwrite").objectStore(c).delete(t);return new Promise((e,r)=>{n.onsuccess=()=>e(!0),n.onerror=()=>r(!1)})},p=e=>{let{db:r,indexName:t,value:n}=e;if(!r)return;let o=r.transaction(c,"readonly").objectStore(c).index(t).getAll(IDBKeyRange.only(n));return new Promise((e,r)=>{o.onsuccess=()=>e(o.result),o.onerror=()=>r(o.error)})},b=(0,a.createContext)({db:null,error:null,accounts:null,horseOwners:null,addAccount:()=>Promise.resolve(void 0),updateAccount:()=>Promise.resolve(void 0),addHorseOwner:()=>Promise.resolve(void 0),updateHorseOwner:()=>Promise.resolve(void 0),removeData:()=>Promise.resolve(void 0),refetchData:()=>Promise.resolve(void 0)}),v=()=>{let e=(0,a.useContext)(b);if(!e)throw Error("useDb must be used within a DbProvider");return e},O=e=>{let{children:r}=e,[t,n]=(0,a.useState)(null),[s,l]=(0,a.useState)(null),[u,i]=(0,a.useState)(null),[c,v]=(0,a.useState)(null),O=(0,a.useCallback)(async()=>{let[e,r]=await Promise.all([p({db:t,indexName:y.OBJECT_TYPE.name,value:d.ACCOUNT}),p({db:t,indexName:y.OBJECT_TYPE.name,value:d.HORSE_OWNER})]);Array.isArray(e)&&i(e),Array.isArray(r)&&v(r)},[t]);(0,a.useEffect)(()=>{u||c||O()},[u,c,O]),(0,a.useEffect)(()=>{m().then(n).catch(l)},[]);let C=(0,a.useCallback)(async e=>f({db:t,data:{[y.OBJECT_TYPE.key]:d.ACCOUNT,...e}}),[t]),w=(0,a.useCallback)(async e=>E({db:t,data:{[y.OBJECT_TYPE.key]:d.ACCOUNT,...e}}),[t]),_=(0,a.useCallback)(async e=>f({db:t,data:{[y.OBJECT_TYPE.key]:d.HORSE_OWNER,...e}}),[t]),g=(0,a.useCallback)(async e=>E({db:t,data:{[y.OBJECT_TYPE.key]:d.HORSE_OWNER,...e}}),[t]),P=(0,a.useCallback)(async e=>h({db:t,id:e}),[t]);return(0,o.jsx)(b.Provider,{value:{db:t,error:s,accounts:u,horseOwners:c,addAccount:C,updateAccount:w,addHorseOwner:_,updateHorseOwner:g,removeData:P,refetchData:O},children:r})}},5890:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>l});var n=t(7876),o=t(7328),a=t.n(o);t(9334);var s=t(2386);function l(e){let{Component:r,pageProps:t}=e;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(a(),{children:[(0,n.jsx)("title",{children:"sso-log.lara.horse"}),(0,n.jsx)("meta",{name:"description",content:"Generated by Julie Eveningrock"}),(0,n.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,n.jsx)("main",{children:(0,n.jsx)(s.y,{children:(0,n.jsx)(r,{...t})})})]})}},7328:(e,r,t)=>{e.exports=t(9836)},9334:()=>{}},e=>{var r=r=>e(e.s=r);e.O(0,[593,792],()=>(r(92),r(8253))),_N_E=e.O()}]);